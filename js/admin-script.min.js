!function(a){function b(){"undefined"!=typeof tinymce&&tinymce.editors.length>0&&a(tinymce.editors[0].getBody()).find(".imagedrop").each(function(){var b,c,d,e,f=a(this);switch(b=["alignnone","wp-image-"+f.data("id")],g.val()){case"thumb":c=f.data("thumbnail-width"),d=f.data("thumbnail-height"),e=f.data("thumbnail-url"),b.push("size-thumbnail");break;case"medium":c=f.data("medium-width"),d=f.data("medium-height"),e=f.data("medium-url"),b.push("size-medium");break;case"large":c=f.data("large-width"),d=f.data("large-height"),e=f.data("large-url"),b.push("size-large");break;default:c=f.data("width"),d=f.data("height"),e=f.data("url"),b.push("size-full")}var h=a("<a></a>").attr("href",f.data("url"));f.attr("width",c).attr("height",d).attr("src",e).removeClass("imagedrop").addClass(b.join(" ")).wrap(h),f.attr({"data-id":null,"data-width":null,"data-height":null,"data-url":null,"data-large-url":null,"data-large-width":null,"data-large-height":null,"data-medium-url":null,"data-medium-width":null,"data-medium-height":null,"data-thumbnail-url":null,"data-thumbnail-width":null,"data-thumbnail-height":null})}),setTimeout(b,100)}function c(){var a={action:"id_image_count"};jQuery.post(ajaxurl,a,function(a){a.match(/[0-9]+/)&&(a!==j&&d(),l=setTimeout(c,3e4))})}function d(){var b={action:"id_load_meta_box"};jQuery.post(ajaxurl,b,function(b){a("#imagedrop .inside").html(b),i=id_data.slides,j=id_data.images,k=id_data.gridSize,h=0,g=a("#imagedrop-size")})}function e(b){var c={action:"id_load_images",slide:b};jQuery.post(ajaxurl,c,function(b){a(".slide-"+c.slide).html(b).addClass("loaded")})}function f(b,c,d){return"undefined"!=typeof a.prop?a(b).attr(c,d).prop(c,d):a(b).attr(c,d)}var g=null,h=0,i=-1,j=-1,k=-1,l=null;a(document).ready(function(){"undefined"!=typeof id_data&&(g=a("#imagedrop-size"),i=id_data.slides,j=id_data.images,k=id_data.gridSize,b(),l=setTimeout(c,3e4),a(document).on("click",".slide-prev",function(){return a(".slide").addClass("hidden"),a(".slide-"+--h).removeClass("hidden"),f(".slide-next","disabled",""),0===h&&f(".slide-prev","disabled","disabled"),!1}),a(document).on("click",".slide-next",function(){return h++,a(".slide").addClass("hidden"),a(".slide-"+h).removeClass("hidden"),f(".slide-prev","disabled",""),h+1===i&&f(".slide-next","disabled","disabled"),a(".slide-"+h).hasClass("loaded")||e(h),!1}),a(document).on("click","#imagedrop-search-button",function(){var b=a("#imagedrop-search").val(),d={action:"id_search_images",query:b};return a(".slide").remove(),f(".slide-prev, .slide-next","disabled","disabled"),h=0,a.tmpl(loading_template,{slide:0}).removeClass("hidden").appendTo("#slides-wrapper"),0===b.length?(null===l&&c(),!1):(clearTimeout(l),l=null,a.post(ajaxurl,d,function(b){var c=a("<div></div>").html(b),d=c.find("img");if(d.length<k)a(".slide-0").html(b).addClass("loaded"),j=d.length,i=1;else{a(".slide-0").html("");for(var e=0,g=0;g<d.length;g++)g>0&&0===g%k&&a.tmpl(loading_template,{slide:++e}).addClass("loaded").html("").appendTo("#slides-wrapper"),a(".slide-"+e).append(d[g]).append(" ");f(".slide-next","disabled",""),j=d.length,i=e+1}}),!1)}))})}(jQuery);
/*
//@ sourceMappingURL=admin-script.map.js
*/